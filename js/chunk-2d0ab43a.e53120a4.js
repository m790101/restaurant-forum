(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab43a"],{1511:function(s,t,e){"use strict";e.r(t);var r=function(){var s=this,t=s._self._c;return t("main",{attrs:{role:"main"}},[t("div",{staticClass:"album py-5 bg-light"},[t("div",{staticClass:"container"},[t("UserProfileCard",{attrs:{"user-profile":s.user}}),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4"},[t("UserFollowingsCard",{attrs:{"user-profile":s.user}}),t("br"),t("UserFollowersCard",{attrs:{"user-profile":s.user}})],1),t("div",{staticClass:"col-md-8"},[t("UserCommentsCard",{attrs:{"user-profile":s.user}}),t("br"),t("UserFavoritedRestaurantsCard",{attrs:{"user-profile":s.user}})],1)])],1)])])},a=[],i=e("4cce"),l=e("2fa3"),o=function(){var s=this,t=s._self._c;return t("div",{staticClass:"card mb-3"},[t("div",{staticClass:"row no-gutters"},[t("div",{staticClass:"col-md-4"},[t("img",{attrs:{src:s.userProfile.image,width:"300px",height:"300px"}})]),t("div",{staticClass:"col-md-8"},[t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[s._v(s._s(s.userProfile.name))]),t("p",{staticClass:"card-text"},[s._v(" "+s._s(s.userProfile.email)+" ")]),t("ul",{staticClass:"list-unstyled list-inline"},[t("li",[t("strong",[s._v(s._s(s.userProfile.commentsLength))]),s._v(" 已評論餐廳")]),t("li",[t("strong",[s._v(s._s(s.userProfile.favoritedRestaurantsLength))]),s._v(" 收藏的餐廳")]),t("li",[t("strong",[s._v(s._s(s.userProfile.followersLength))]),s._v(" followings (追蹤者)")]),t("li",[t("strong",[s._v(s._s(s.userProfile.followingsLength))]),s._v(" followers (追隨者)")])]),t("p",[t("router-link",{attrs:{to:{name:"users-edit",params:{id:s.userProfile.id}}}},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[s._v("edit")])])],1)])])])])},n=[],c={props:{userProfile:{type:Object,required:!0}},methods:{async addFollowing(s){try{const{data:t}=i["a"].addFollowing(s);console.log(t)}catch(t){console.log(t)}},async deleteFollowing(s){try{const{data:t}=i["a"].deleteFollowing(s);console.log(t)}catch(t){console.log(t)}}}},d=c,u=e("2877"),f=Object(u["a"])(d,o,n,!1,null,null,null),h=f.exports,g=function(){var s=this,t=s._self._c;return t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("strong",[s._v(s._s(s.userProfile.followingsLength))]),s._v(" followings (追蹤者) ")]),t("div",{staticClass:"card-body"},s._l(s.userProfile.Followings,(function(s){return t("a",{key:s.id,attrs:{href:"/users/1"}},[t("img",{staticClass:"avatar me-2",attrs:{src:s.image,width:"60",height:"60"}})])})),0)])},m=[],v={props:{userProfile:{type:Object,required:!0}}},w=v,p=Object(u["a"])(w,g,m,!1,null,null,null),C=p.exports,_=function(){var s=this,t=s._self._c;return t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("strong",[s._v(s._s(s.userProfile.followersLength))]),s._v(" followers (追隨者) ")]),t("div",{staticClass:"card-body"},s._l(s.userProfile.Followers,(function(s){return t("a",{key:s.id,attrs:{href:"/users/1"}},[t("img",{staticClass:"avatar",attrs:{src:s.image,width:"60",height:"60"}})])})),0)])},b=[],y={props:{userProfile:{type:Object,required:!0}}},P=y,F=Object(u["a"])(P,_,b,!1,null,null,null),L=F.exports,R=function(){var s=this,t=s._self._c;return t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("strong",[s._v(s._s(s.userProfile.commentsLength))]),s._v(" 已評論餐廳 ")]),t("div",{staticClass:"card-body"},s._l(s.userProfile.Comments,(function(s){return t("a",{key:s.id,attrs:{href:"/restaurants/1"}},[t("img",{staticClass:"avatar",attrs:{src:s.Restaurant.image,width:"60",height:"60"}})])})),0)])},U=[],j={props:{userProfile:{type:Object,required:!0}}},O=j,x=Object(u["a"])(O,R,U,!1,null,null,null),k=x.exports,q=function(){var s=this,t=s._self._c;return t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("strong",[s._v(s._s(s.userProfile.favoritedRestaurantsLength))]),s._v(" 收藏的餐廳")]),t("div",{staticClass:"card-body"},s._l(s.userProfile.FavoritedRestaurants,(function(s){return t("a",{key:s.id,attrs:{href:"/restaurants/13"}},[t("img",{staticClass:"avatar",attrs:{src:s.image,width:"60",height:"60"}})])})),0)])},J=[],I={props:{userProfile:{type:Object,required:!0}}},S=I,$=Object(u["a"])(S,q,J,!1,null,null,null),z=$.exports,A=e("2f62"),B={components:{UserProfileCard:h,UserFollowingsCard:C,UserFollowersCard:L,UserCommentsCard:k,UserFavoritedRestaurantsCard:z},data(){return{user:{id:0,image:"",name:"",email:"",followingsLength:0,followersLength:0,commentsLength:0,favoritedRestaurantsLength:0},isFollowed:!1,followings:[],followers:[],comments:[],favoritedRestaurants:[]}},methods:{async fetchUser(s){try{const{data:t}=await i["a"].get({userId:s}),{profile:e,isFollowed:r}=t,{id:a,image:l,name:o,email:n,Followings:c,Followers:d,Comments:u,FavoritedRestaurants:f}=e,h=new Set;this.Comments=u.filter(s=>s.Restaurant&&!h.has(s.Restaurant.id)&&h.add(s.Restaurant.id)),this.user={...this.user,id:a,image:l,name:o,email:n,followingsLength:c.length,followersLength:d.length,commentsLength:this.comments.length,favoritedRestaurantsLength:f.length},this.isFollowed=r,this.followings=c,this.followers=d,this.favoritedRestaurants=f}catch(t){console.error(t),l["a"].fire({icon:"error",title:"無法取得餐廳資料，請稍後再試"})}}},created(){const{id:s}=this.$route.params;this.fetchUser(s)},computed:{...Object(A["b"])(["currentUser"])},beforeRouteUpdate(s,t,e){const{id:r}=s.params;this.fetchUser(r),e()}},D=B,E=Object(u["a"])(D,r,a,!1,null,null,null);t["default"]=E.exports}}]);
//# sourceMappingURL=chunk-2d0ab43a.e53120a4.js.map